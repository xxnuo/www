<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Book</title>
    <link href="https://bigtear.com/feed.xml" rel="self" />
    <link href="https://bigtear.com" />
    <updated>2022-07-28T10:58:18+08:00</updated>
    <author>
        <name>Taurus</name>
    </author>
    <id>https://bigtear.com</id>

    <entry>
        <title>Alpine安装中文 2</title>
        <author>
            <name>Taurus</name>
        </author>
        <link href="https://bigtear.com/alpinean-zhuang-zhong-wen-2.html"/>
        <id>https://bigtear.com/alpinean-zhuang-zhong-wen-2.html</id>

        <updated>2022-07-28T10:58:18+08:00</updated>
            <summary>
                <![CDATA[
                    ## from https://blog.csdn.net/lxyoucan/article/details/117165981 我修改适配我的环境和更新内容 2022年3月19日20点32分 alpine默认是没有语言环境的,没有中文不舒服不说。有时可能还会遇到中文[乱码](https://so.csdn.net/so/search?q=乱码&amp;spm=1001.2101.3001.7020)。那就来尝试一下安装中文语言环境吧！ # 检查语言环境 查看当前语言环境 ```bash echo $LANG ``` 我的执行结果如下： ```bash ➜ ~ echo $LANG C.UTF-8&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div>
<div>## from https://blog.csdn.net/lxyoucan/article/details/117165981</div>
<br>
<div>我修改适配我的环境和更新内容</div>
<br>
<div>2022年3月19日20点32分</div>
<br>
<div>alpine默认是没有语言环境的,没有中文不舒服不说。有时可能还会遇到中文[乱码](https://so.csdn.net/so/search?q=乱码&amp;spm=1001.2101.3001.7020)。那就来尝试一下安装中文语言环境吧！</div>
<br>
<div># 检查语言环境</div>
<br>
<div>查看当前语言环境</div>
<br>
<div>```bash</div>
<div>echo $LANG</div>
<div>```</div>
<br>
<div>我的执行结果如下：</div>
<br>
<div>```bash</div>
<div>➜  ~ echo $LANG</div>
<div>C.UTF-8</div>
<div>```</div>
<br>
<div>查看当前系统是否有中文语言包</div>
<br>
<div>```bash</div>
<div>locale -a</div>
<div>```</div>
<br>
<div>我的执行结果如下：</div>
<br>
<div>```bash</div>
<div>➜  ~ locale -a</div>
<div>zsh: command not found: locale</div>
<div>```</div>
<br>
<div>发现没有locale命令，那么我们先要解决的问题就是locale命令的安装。</div>
<br>
<div># 准备工作</div>
<br>
<div>## 安装软件</div>
<br>
<div>```bash</div>
<div>sudo apk add ca-certificates wget</div>
<div># 下面内容更新在 https://github.com/sgerrand/alpine-pkg-glibc</div>
<div># 安装公钥</div>
<div>sudo wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub</div>
<div>#wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub</div>
<div>#下载相关apk</div>
<div>wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.35-r0/glibc-2.35-r0.apk</div>
<div>wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.35-r0/glibc-bin-2.35-r0.apk</div>
<div>wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.35-r0/glibc-i18n-2.35-r0.apk</div>
<div>#wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.33-r0/glibc-2.33-r0.apk</div>
<div>#wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.33-r0/glibc-bin-2.33-r0.apk</div>
<div>#wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.33-r0/glibc-i18n-2.33-r0.apk</div>
<div>#安装apk</div>
<div>sudo apk add glibc-bin-2.35-r0.apk glibc-i18n-2.35-r0.apk glibc-2.35-r0.apk</div>
<div>#apk add glibc-bin-2.33-r0.apk glibc-i18n-2.33-r0.apk glibc-2.33-r0.apk</div>
<div>```</div>
<br>
<div>执行结果如下：</div>
<br>
<div>```bash</div>
<div>➜  ~ sudo apk add glibc-bin-2.35-r0.apk glibc-i18n-2.35-r0.apk glibc-2.35-r0.apk</div>
<div>[sudo] password for taurus:</div>
<div>(1/4) Installing glibc (2.35-r0)</div>
<div>(2/4) Installing libc6-compat (1.2.2-r7)</div>
<div>(3/4) Installing glibc-bin (2.35-r0)</div>
<div>(4/4) Installing glibc-i18n (2.35-r0)</div>
<div>Executing glibc-bin-2.35-r0.trigger</div>
<div>OK: 116 MiB in 47 packages</div>
<div>```</div>
<br>
<div>如果报错了请自己网上找答案，这里要说一下，这个方法只适用于x86平台，如果是arm的cpu需要找arm平台的apk包安装，我在Termux中就安装失败了，至今没找到合适的包（找到的包多数安装不成功，pub无效之类的）。</div>
<br>
<div>执行下面命令，设置语言环境。</div>
<br>
<div>```bash</div>
<div>sudo /usr/glibc-compat/bin/localedef -i zh_CN -f UTF-8 zh_CN.UTF-8</div>
<div># /usr/glibc-compat/bin/localedef -i zh_CN -f UTF-8 zh_CN.UTF-8</div>
<div>```</div>
<br>
<div>然后在环境变量中增`export LANG=zh_CN.UTF-8`</div>
<div>我使用的是zsh所以加到`~/.zshrc`中</div>
<br>
<div># 检验</div>
<br>
<div>安装完成后，我发现虽然LANG=zh_CN.UTF-8已经设置成功了，使用apk安装的程序也只会显示英文，比如:vim</div>
<div>date 执行结果都是英文，但是手动安装的软件已经可以显示中文了。</div>
<br>
<div>我在想可能alpine的软件包本身就没有考虑其他的语言支持吧，自己安装的软件包才有中文。</div>
<div>自己安装的nvim也是可以显示中文的。</div>
<br>
<div># 总结</div>
<br>
<div>既然没有中文乱码了，那我们的任务就完成了。美中不足的就是apk安装的软件包，基本还都显示英文。</div>
<br>
<div># 参考</div>
<br>
<div>- 《基于alpine制作UTF-8的jdk8镜像》</div>
<div>  https://blog.csdn.net/qq_33285112/article/details/109726538</div>
</div>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Alpine安装中文</title>
        <author>
            <name>Taurus</name>
        </author>
        <link href="https://bigtear.com/alpinean-zhuang-zhong-wen.html"/>
        <id>https://bigtear.com/alpinean-zhuang-zhong-wen.html</id>

        <updated>2022-07-28T10:57:52+08:00</updated>
            <summary>
                <![CDATA[
                    from https://blog.csdn.net/lxyoucan/article/details/117165981 我修改适配我的环境和更新内容 2022年3月19日20点32分 alpine默认是没有语言环境的,没有中文不舒服不说。有时可能还会遇到中文乱码。那就来尝试一下安装中文语言环境吧！ 查看当前语言环境 echo $LANG 我的执行结果如下： ➜ ~ echo $LANG C.UTF-8 查看当前系统是否有中文语言包 locale -a 我的执行结果如下： ➜ ~&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h2 id="from-httpsblogcsdnnetlxyoucanarticledetails117165981">from <a href="https://blog.csdn.net/lxyoucan/article/details/117165981">https://blog.csdn.net/lxyoucan/article/details/117165981</a></h2>
<p>我修改适配我的环境和更新内容</p>
<p>2022年3月19日20点32分</p>
<p>alpine默认是没有语言环境的,没有中文不舒服不说。有时可能还会遇到中文<a href="https://so.csdn.net/so/search?q=%E4%B9%B1%E7%A0%81&amp;spm=1001.2101.3001.7020">乱码</a>。那就来尝试一下安装中文语言环境吧！</p>
<h1 id="检查语言环境">检查语言环境</h1>
<p>查看当前语言环境</p>
<pre><code class="language-bash">echo $LANG
</code></pre>
<p>我的执行结果如下：</p>
<pre><code class="language-bash">➜  ~ echo $LANG
C.UTF-8
</code></pre>
<p>查看当前系统是否有中文语言包</p>
<pre><code class="language-bash">locale -a
</code></pre>
<p>我的执行结果如下：</p>
<pre><code class="language-bash">➜  ~ locale -a
zsh: command not found: locale
</code></pre>
<p>发现没有locale命令，那么我们先要解决的问题就是locale命令的安装。</p>
<h1 id="准备工作">准备工作</h1>
<h2 id="安装软件">安装软件</h2>
<pre><code class="language-bash">sudo apk add ca-certificates wget
# 下面内容更新在 https://github.com/sgerrand/alpine-pkg-glibc
# 安装公钥
sudo wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub
#wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub
#下载相关apk
wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.35-r0/glibc-2.35-r0.apk
wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.35-r0/glibc-bin-2.35-r0.apk
wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.35-r0/glibc-i18n-2.35-r0.apk
#wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.33-r0/glibc-2.33-r0.apk
#wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.33-r0/glibc-bin-2.33-r0.apk
#wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.33-r0/glibc-i18n-2.33-r0.apk
#安装apk
sudo apk add glibc-bin-2.35-r0.apk glibc-i18n-2.35-r0.apk glibc-2.35-r0.apk
#apk add glibc-bin-2.33-r0.apk glibc-i18n-2.33-r0.apk glibc-2.33-r0.apk
</code></pre>
<p>执行结果如下：</p>
<pre><code class="language-bash">➜  ~ sudo apk add glibc-bin-2.35-r0.apk glibc-i18n-2.35-r0.apk glibc-2.35-r0.apk
[sudo] password for taurus:
(1/4) Installing glibc (2.35-r0)
(2/4) Installing libc6-compat (1.2.2-r7)
(3/4) Installing glibc-bin (2.35-r0)
(4/4) Installing glibc-i18n (2.35-r0)
Executing glibc-bin-2.35-r0.trigger
OK: 116 MiB in 47 packages
</code></pre>
<p>如果报错了请自己网上找答案，这里要说一下，这个方法只适用于x86平台，如果是arm的cpu需要找arm平台的apk包安装，我在Termux中就安装失败了，至今没找到合适的包（找到的包多数安装不成功，pub无效之类的）。</p>
<p>执行下面命令，设置语言环境。</p>
<pre><code class="language-bash">sudo /usr/glibc-compat/bin/localedef -i zh_CN -f UTF-8 zh_CN.UTF-8
# /usr/glibc-compat/bin/localedef -i zh_CN -f UTF-8 zh_CN.UTF-8
</code></pre>
<p>然后在环境变量中增<code>export LANG=zh_CN.UTF-8</code>
我使用的是zsh所以加到<code>~/.zshrc</code>中</p>
<h1 id="检验">检验</h1>
<p>安装完成后，我发现虽然LANG=zh_CN.UTF-8已经设置成功了，使用apk安装的程序也只会显示英文，比如:vim
date 执行结果都是英文，但是手动安装的软件已经可以显示中文了。</p>
<p>我在想可能alpine的软件包本身就没有考虑其他的语言支持吧，自己安装的软件包才有中文。
自己安装的nvim也是可以显示中文的。</p>
<h1 id="总结">总结</h1>
<p>既然没有中文乱码了，那我们的任务就完成了。美中不足的就是apk安装的软件包，基本还都显示英文。</p>
<h1 id="参考">参考</h1>
<ul>
<li>《基于alpine制作UTF-8的jdk8镜像》
<a href="https://blog.csdn.net/qq_33285112/article/details/109726538">https://blog.csdn.net/qq_33285112/article/details/109726538</a></li>
</ul>

            ]]>
        </content>
    </entry>
</feed>
